#!/bin/bash
BASEDIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# create secrets file
touch ${BASEDIR}/.secrets

# gitconfig
ln -s ${BASEDIR}/git/gitconfig ~/.gitconfig
ln -s ${BASEDIR}/git/gitignore ~/.gitignore
ln -s ${BASEDIR}/git/gitmessage ~/.gitmessage

# gnupg
mkdir ~/.gnupg
ln -s ${BASEDIR}/gnupg/gpg.conf ~/.gnupg/gpg.conf

# ntp.br
bash ${BASEDIR}/ntp/install.sh

# homebrew
bash ${BASEDIR}/homebrew/install.sh

# PIP
bash ${BASEDIR}/pip/install.sh
ln -s ${BASEDIR}/pip/pydistutils.cfg ~/.pydistutils.cfg

# Set osx defaults
bash ${BASEDIR}/osx-defaults/set-defaults.sh

# Configuring ssh
sudo rm /etc/ssh/ssh_config
sudo cp ${BASEDIR}/ssh/ssh_config /etc/ssh/ssh_config

# iTerm2
rm ~/Library/Preferences/com.googlecode.iterm2.plist
ln -s ${BASEDIR}/iterm2/com.googlecode.iterm2.plist \
	~/Library/Preferences/com.googlecode.iterm2.plist

ln -s ~/Library/Mobile\ Documents/com~apple~CloudDocs/Projects ~/Projects

# Tmux
ln -s ${BASEDIR}/tmux/tmux.conf ~/.tmux.conf

# Installing NERDFonts
ln -s ${BASEDIR}/fonts/Monaco\ for\ Powerline\ Nerd\ Font\ Complete.otf \
	~/Library/Fonts/Sauce\ Code\ Pro\ Nerd\ Font\ Complete.ttf

# Import gpg keys from keybase
bash ${BASEDIR}/keybase/import_keys.sh

mv /usr/local/bin/kubens /usr/local/bin/knamespace
mv /usr/local/bin/kubectx /usr/local/bin/kcontext

# Installing bash_profile
ln -s ${BASEDIR}/bash/bash_profile ~/.bash_profile

# vimfiles
mkdir -p ~/.config
ln -s ${BASEDIR}/vim/vimrc ~/.vimrc
ln -s ${BASEDIR}/vim/ ~/.vim
ln -s ${BASEDIR}/vim/ ~/.config/nvim
vim +PlugInstall +qa!
